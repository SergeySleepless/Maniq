//
//  CreateUserViewController.swift
//  Maniq
//
//  Created by –°–µ—Ä–≥–µ–π –ì–∞–≤—Ä–∏–ª–æ–≤ on 02.02.2020.
//  Copyright (c) 2020 –°–µ—Ä–≥–µ–π –ì–∞–≤—Ä–∏–ª–æ–≤. All rights reserved.
//
//  This file was generated by the üêç VIPER generator
//

import UIKit
import FirebaseAuth

final class CreateUserViewController: UIViewController {

    // MARK: - Public properties -

    var presenter: CreateUserPresenterInterface!
    
    @IBOutlet weak var usernameTextField: UITextField!
    @IBOutlet weak var emailTextField: UITextField!
    @IBOutlet weak var passwordTextField: UITextField!
    @IBOutlet weak var repeatPasswordTextField: UITextField!
    @IBOutlet weak var roleSegmentedControl: UISegmentedControl!
    
    // MARK: - Lifecycle -

    override func viewDidLoad() {
        super.viewDidLoad()
        setTitle(title: "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è")
        presenter.removePreviousControllers()
        hideKeyboard()
    }
    
    @IBAction func signInPressed(_ sender: UIButton) {
        presenter.createUser(name: usernameTextField.text!, email: emailTextField.text!, password: passwordTextField.text!, isMaster: roleSegmentedControl!.selectedSegmentIndex == 0 ? false : true)
    }
    
}

// MARK: - Extensions -

extension CreateUserViewController: CreateUserViewInterface {
    
    func loadingView(show: Bool) {
        UIUtils.shared.showLoading(view: view, isShow: show)
    }
    
}
